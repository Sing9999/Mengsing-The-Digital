const state = {
  name: null,
  lastTopic: null,
  step: null,
};
const responseBox = document.getElementById("response");

function respondSimple() {
  const input = document.getElementById("userInput").value.trim();
  const lowerInput = input.toLowerCase();
  let answer = "";

  if (state.step === "ask_name") {
    state.name = input;
    state.step = null;
    answer = `‡∏î‡∏µ‡πÉ‡∏à‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡∏ô‡∏∞ ${state.name}! ‡πÅ‡∏•‡πâ‡∏ß‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏ä‡πà‡∏ß‡∏¢‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á?`;
    return (responseBox.innerText = answer);
  }

  if (lowerInput.includes("‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ") || lowerInput.includes("‡πÑ‡∏á") || lowerInput.includes("hello")) {
    if (state.name) {
      answer = `‡πÄ‡∏Æ‡πâ ${state.name}~ ‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ‡πÑ‡∏´‡∏°? ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡πÉ‡∏´‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏ö‡πâ‡∏≤‡∏á?`;
    } else {
      answer = "‡∏î‡∏µ‡∏à‡πâ‡∏≤! ‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡∏Ç‡∏≠‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°?";
      state.step = "ask_name";
    }
  }

  else if (lowerInput.includes("‡πÄ‡∏ß‡∏•‡∏≤")) {
    answer = "‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠ " + new Date().toLocaleTimeString();
  }

  else if (lowerInput.includes("‡∏ß‡∏±‡∏ô‡∏≠‡∏∞‡πÑ‡∏£")) {
    answer = "‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠ " + new Date().toLocaleDateString('th-TH', {
      weekday: 'long', year: 'numeric', month: 'long', day: 'numeric'
    });
  }

  else if (lowerInput.includes("‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡πÑ‡∏î‡πâ‡∏ö‡πâ‡∏≤‡∏á")) {
    answer = "‡πÄ‡∏£‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢ AI ‡πÄ‡∏ñ‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡πà‡∏ô‡πÄ‡∏ö‡∏ï‡πâ‡∏≤! ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡πÑ‡∏î‡πâ ‡∏•‡∏≠‡∏á‡∏ñ‡∏≤‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ ‡πÄ‡∏ä‡πà‡∏ô '‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î', '‡πÉ‡∏´‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏à', '‡∏ä‡πà‡∏ß‡∏¢‡∏Ñ‡∏¥‡∏î', '‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥', '‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô','‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏≠‡∏õ',' ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå', ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏Å‡∏°','‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ã‡∏∑‡πâ‡∏≠-‡∏Ç‡∏≤‡∏¢‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå', '‡∏ä‡∏≤‡∏£‡πå‡∏à‡πÄ‡∏á‡∏¥‡∏ô','‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô', '‡∏î‡∏π‡πÅ‡∏•‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏≠‡∏∑‡πà‡∏ô‡πÜ,' ";
  }

  else if (lowerInput.includes("‡∏£‡∏±‡∏Å")) {
    answer = "‡∏£‡∏±‡∏Å‡∏™‡∏¥~ ‡∏ñ‡∏∂‡∏á‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•‡πÅ‡∏ï‡πà‡πÉ‡∏à‡∏Å‡πá‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏∞ üòâ";
  }

  else if (lowerInput.includes("‡∏Ñ‡∏¥‡∏î‡∏ä‡∏∑‡πà‡∏≠‡∏£‡πâ‡∏≤‡∏ô")) {
    state.lastTopic = "shop_name";
    answer = "‡πÅ‡∏ô‡∏ß‡∏£‡πâ‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö‡πÑ‡∏´‡∏ô‡πÄ‡∏´‡∏£‡∏≠? ‡∏Ç‡∏≤‡∏¢‡∏≠‡∏∞‡πÑ‡∏£ ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡πÄ‡∏ó‡πà ‡πÜ ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏≥‡πÑ‡∏ó‡∏¢‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏î‡∏µ?";
  }

  else if (state.lastTopic === "shop_name") {
    state.lastTopic = null;
    answer = `‡∏ñ‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö "${input}" ‡∏•‡∏≠‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏ß‡∏Å‡∏ô‡∏µ‡πâ‡∏î‡∏π:\n- ${input} Studio\n- ${input} Express\n- ‡∏ö‡πâ‡∏≤‡∏ô${input} \n- ${input} Market`;
  }

  else {
    const randomQuestions = [
      "‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏µ‡∏Å‡∏ô‡∏¥‡∏î‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°?",
      "‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏´‡∏£‡∏≠?",
      "‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÑ‡∏´‡∏ô‡∏ö‡πâ‡∏≤‡∏á‡∏à‡πä‡∏∞?",
      "‡∏•‡∏≠‡∏á‡∏ñ‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏ó‡∏µ‡πÑ‡∏î‡πâ‡∏ô‡∏∞ ‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå ‡πÜ ‡∏´‡∏ô‡πà‡∏≠‡∏¢~"
    ];
    const askBack = randomQuestions[Math.floor(Math.random() * randomQuestions.length)];
    answer = "‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏Ñ‡πà‡∏≠‡∏¢‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏ô‡∏µ‡πâ‡∏ô‡∏∞... " + askBack;
  }
  else if (lowerInput.includes("‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î") && lowerInput.includes("python") && lowerInput.includes("‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢")) {
    answer = `‡πÇ‡∏Ñ‡πâ‡∏î Python ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏≤‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢:\n\n` +
           `numbers = [10, 20, 30]\n` +
           `average = sum(numbers) / len(numbers)\n` +
           `print("‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏Ñ‡∏∑‡∏≠", average)`;
}

  responseBox.innerText = answer;
      }
